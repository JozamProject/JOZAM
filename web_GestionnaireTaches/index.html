<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>JOZAM PROJECT</title>
		<meta name="author" content="gyurisc">
		<link rel="stylesheet" type="text/css" href="assets/css/jquery.gridster.css">
		<link rel="stylesheet" type="text/css" href="assets/css/styles.css">
		<style>
			.gridster ul {
			list-style: none;
			background-color: gray;
			}
			.gridster ul li {
				background-color: red;
			}
		</style>
	</head>
	<body>
		<div class="controls">
		  <button class="js-resize-random">Resize random widget</button>
	  </div>
	  <div class="controls">
		  <input type="button" onclick="myFunction()" >Create project</button>
	  </div>
		
			<div class="gridster">
				<ul id="myList">
					<li data-row="1" data-col="1" data-sizex="1" data-sizey="1">
						<h1>Project1</h1>
						<input type="text"/>
						<p>task2</p>
						<p>task3</p>
					</li>
					<li data-row="2" data-col="1" data-sizex="1" data-sizey="1"><h1>Project2</h1></li>
					<li data-row="3" data-col="1" data-sizex="1" data-sizey="1"><h1>Project3<h1></li>				
				</ul>
			</div>

		<script type="text/javascript" src="assets/jquery.js"></script>
		<script type="text/javascript" src="assets/jquery.gridster.js" charster="utf-8"></script>

		<script type="text/javascript">
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
		</script>
		</script>
		<script type="text/javascript">
			var gridster;

			$(function() {
				gridster = $(".gridster ul").gridster({
					widget_margins: [10, 10], 
					widget_base_dimensions: [140, 140],
					helper: 'clone',
					//min_cols: 6,
					resize: {
						enabled: true,
						max_size: [4, 4],
						min_size: [1, 1]
					}
					
				}).data('gridster');
				
				 $('.js-resize-random').on('click', function() {
            gridster.resize_widget(gridster.$widgets.eq(getRandomInt(1, 2)),
                getRandomInt(1, 2), getRandomInt(1, 2))
        });
			});
		</script>
		<script type="text/javascript">
				
			function getAllElementsWithAttribute(attribute)
			{
			  var matchingElements = [];
			  var allElements = document.getElementsByTagName('*');
			  for (var i = 0, n = allElements.length; i < n; i++)
			  {
			  
				if (allElements[i].getAttribute(attribute) != null)
				{

				  matchingElements.push(allElements[i]);
				}
			  }
			  return matchingElements;
			}
		</script>
		
			
		
		<script>
		var userID ="";
		for ( var j =0 , n = getAllElementsWithAttribute("data-row").length; j < n; j++)
		{
			userID += getAllElementsWithAttribute("data-row")[j].getAttribute('data-row');
		}
		
		function traitement(){

                $.ajax({
                    type: "POST",
                    url: 'trait.php',
                    data: { userID : userID },
                    success: function(data)
                    {
                        alert("success!");
                    }
				});
		}
		
		$(document).ready(function() {
				traitement();
        });

		
		</script>
		<script>
		
		
		function create(htmlStr) {
			var frag = document.createDocumentFragment(),
				temp = document.createElement('li');
			temp.innerHTML = htmlStr;
			while (temp.firstChild) {
				frag.appendChild(temp.firstChild);
			}
			return frag;
		}
		
		function exec(){
			//var ul = document.getElementsByTagName('li').item(0);
			// Get a reference to the first child
			//var firstLi = ul.item(0);
			var newLi = create('<li data-row="2" data-col="2" data-sizex="1" data-sizey="1"></li>');
			// You can use native DOM methods to insert the fragment:
			 document.body.insertBefore(newLi, document.body.childNodes[7] );
		 }
		 
		
function myFunction() {
    var newItem = document.createElement("LI")
    var textnode = document.createTextNode("Water")
    newItem.appendChild(textnode)

    var list = document.getElementById("myList")
    list.insertBefore(newItem, list.childNodes[0]);
}

		</script>
	
		
		
		
	</body>
</html>